/* Forecast helper CSS:
   - entry animation for cards (staggered via inline style delay)
   - subtle hover image transform
   - custom scrollbar for hourly strip
   - temp-bar gradient
   - reduced-motion safety
*/

@keyframes cardIn {
    from {
        opacity: 0;
        transform: translateY(18px) scale(0.996);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* apply the animation to forecast-day; small duration to match original feel */
.forecast-day {
    animation-name: cardIn;
    animation-duration: 420ms;
    animation-timing-function: cubic-bezier(.2, .9, .3, 1);
    animation-fill-mode: both;
}

/* lift image slightly on hover (tailwind utilities handle main transforms but keep this micro effect) */
.forecast-day:hover img {
    transform: translateY(-6px) scale(1.03);
    filter: drop-shadow(0 10px 22px rgba(0, 0, 0, 0.06));
}

/* hourly-strip custom scrollbar (WebKit) */
.hourly-strip::-webkit-scrollbar {
    height: 10px;
}

.hourly-strip::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, rgba(99, 102, 241, 0.28), rgba(99, 102, 241, 0.12));
    border-radius: 999px;
    border: 2px solid rgba(255, 255, 255, 0.5);
}

/* temp bar gradient (kept in CSS for exact gradient control) */
.temp-bar-gradient {
    background: linear-gradient(180deg, #f59e0b, #ef4444);
    transition: height 260ms ease;
}

/* reduced motion support */
@media (prefers-reduced-motion: reduce) {

    .forecast-day,
    .hour-item,
    .forecast-day img {
        animation: none !important;
        transition: none !important;
        transform: none !important;
    }
}

/* === Forecast component — media queries only === */

/* Reduced-motion (already important for accessibility) */
@media (prefers-reduced-motion: reduce) {

    .forecast-day,
    .hour-item,
    .forecast-day img {
        animation: none !important;
        transition: none !important;
        transform: none !important;
    }
}

/* Tablet / small desktop — tighten spacing and allow more room for hourly strip */
@media (max-width: 1024px) {
    .forecast-day {
        padding: 12px;
    }

    .date {
        min-width: 120px;
        flex: 0 0 120px;
    }

    .cond img {
        width: 48px;
        height: 48px;
    }

    .hour-item {
        min-width: 56px;
    }
}

/* Mobile / narrow screens: stack the summary, shrink images, allow hourly strip scrolling */
@media (max-width: 720px) {
    .forecast-day {
        padding: 12px;
    }

    /* stack the top row vertically so date / cond / uv don't overflow */
    .day-summary {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }

    .date {
        flex: 0 0 auto;
        min-width: 0;
        width: 100%;
        font-size: 0.95rem;
    }

    .cond {
        width: 100%;
        align-items: center;
        gap: 10px;
    }

    .cond img {
        width: 44px;
        height: 44px;
    }

    .uv {
        flex: 0 0 auto;
        width: 100%;
        text-align: left;
    }

    /* hourly strip remains horizontally scrollable but with smaller items */
    .hourly-strip {
        gap: 8px;
        padding: 8px 0 4px;
    }

    .hour-item {
        min-width: 56px;
        padding: 8px;
        gap: 6px;
    }

    .hour-icon {
        width: 28px;
        height: 28px;
    }

    .hour-temp {
        font-size: 0.9rem;
    }
}

/* Small phones: tighter layout and stacked content */
@media (max-width: 420px) {
    .forecast-component {
        padding-left: 8px;
        padding-right: 8px;
    }

    .forecast-day {
        padding: 10px;
        border-radius: 10px;
    }

    .date {
        font-size: 0.9rem;
    }

    .cond img {
        width: 40px;
        height: 40px;
    }

    .cond-text {
        font-size: 0.95rem;
    }

    .temps {
        font-size: 0.85rem;
        color: rgba(15, 23, 36, 0.65);
    }

    .hour-item {
        min-width: 50px;
        padding: 6px;
    }

    .hour-icon {
        width: 24px;
        height: 24px;
    }

    /* ensure the hourly strip shows a clear scrollbar gap on tiny screens */
    .hourly-strip {
        padding-left: 6px;
        padding-right: 6px;
    }
}


/* Mobile touch scrolling & snap for hourly strip */
/* Add to Forecast.css */

.hourly-strip {
    overflow-x: auto;
    /* ensure horizontal scroll */
    -webkit-overflow-scrolling: touch;
    /* smooth native momentum on iOS */
    touch-action: pan-x;
    /* let horizontal pan gestures work reliably */
    scroll-snap-type: x mandatory;
    /* enable snapping to children */
    overscroll-behavior-x: contain;
    /* avoid scroll chaining to ancestor */
    -ms-overflow-style: -ms-autohiding-scrollbar;
}

/* Make each hour snap to center (or start if you prefer) */
.hour-item {
    scroll-snap-align: center;
    /* center the item when snapping */
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
}

/* Optional — hide default scrollbar on WebKit while keeping it usable */
.hourly-strip::-webkit-scrollbar {
    height: 8px;
}

.hourly-strip::-webkit-scrollbar-thumb {
    border-radius: 999px;
    background: linear-gradient(180deg, rgba(99, 102, 241, 0.28), rgba(99, 102, 241, 0.12));
}

/* On coarse-pointer devices (touch) disable heavy hover transforms to avoid blocking swipe */
@media (pointer: coarse) {

    .hour-item,
    .hour-item:hover {
        transition: none !important;
        transform: none !important;
    }
}

/* Small tweak to increase tap target and spacing on phones */
@media (max-width: 720px) {
    .hour-item {
        padding: 8px 10px;
        min-width: 64px;
    }

    .hourly-strip {
        gap: 8px;
        padding-left: 8px;
        padding-right: 8px;
    }
}